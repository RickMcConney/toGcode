<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To Gcode</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/bootstrap-min.css">
    <link rel="stylesheet" type="text/css" href="css/app.css" />
    <style>
        body,
        html {
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #layout {
            height: 100vh;
        }

        .main-row {
            height: 100vh;
        }

        #sidebar {
            height: 100vh;
            overflow-y: auto;
        }

        .right-panel {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .toolbar-container {
            flex-shrink: 0;
            height: 60px;
        }

        .canvas-container {
            flex: 1;
            min-height: 0;
            overflow: hidden;
            position: relative;
        }

        #canvas {
            width: 100%;
            object-fit: contain;
            display: block;
        }

        #tool-panel {
            flex: 1;
            min-height: 0;
            overflow-y: auto;
        }

        .status-container {
            flex-shrink: 0;
            height: 40px;
        }

        /* Resize Handle Styles */
        .resize-handle {
            position: relative;
            background-color: #e9ecef;
            z-index: 10;
        }

        .resize-handle-horizontal {
            width: 5px;
            cursor: col-resize;
            flex-shrink: 0;
        }

        .resize-handle-vertical {
            height: 5px;
            cursor: row-resize;
            flex-shrink: 0;
        }

        .resize-handle-bar {
            position: absolute;
            background-color: #6c757d;
            opacity: 0.3;
            transition: opacity 0.2s;
        }

        .resize-handle-horizontal .resize-handle-bar {
            width: 1px;
            height: 100%;
            left: 50%;
            top: 0;
            transform: translateX(-50%);
        }

        .resize-handle-vertical .resize-handle-bar {
            height: 1px;
            width: 100%;
            top: 50%;
            left: 0;
            transform: translateY(-50%);
        }

        .resize-handle:hover .resize-handle-bar,
        .resize-handle.dragging .resize-handle-bar {
            opacity: 0.8;
        }

        .resize-handle.dragging {
            background-color: #007bff;
        }
    </style>
</head>

<body>
    <div id="layout" class="container-fluid p-0">
        <div class="row g-0 main-row">
            <!-- Full Height Sidebar -->
            <div class="col-auto">
                <div id="sidebar" class="bg-light border-end" style="width: 320px;">

                </div>
            </div>

            <!-- Horizontal Resize Handle -->
            <div class="resize-handle resize-handle-horizontal" id="sidebar-resize">
                <div class="resize-handle-bar"></div>
            </div>

            <!-- Right Panel Stack -->
            <div class="col">
                <div class="right-panel">
                    <!-- Toolbar -->
                    <div class="toolbar-container">
                        <nav id="toolbar" class="navbar navbar-light bg-light border-bottom p-2 h-100">
                        </nav>
                    </div>

                    <!-- Canvas Area with Tabs -->
                    <div class="canvas-container border-bottom d-flex flex-column">
                        <!-- Tab Navigation -->
                        <ul class="nav nav-tabs" id="canvasTabs" role="tablist" style="flex-shrink: 0;">
                            <li class="nav-item" role="presentation">
                                <button class="nav-link active" id="2d-tab" data-bs-toggle="tab" data-bs-target="#2d-view" type="button" role="tab" aria-controls="2d-view" aria-selected="true">2D View</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="3d-tab" data-bs-toggle="tab" data-bs-target="#3d-view" type="button" role="tab" aria-controls="3d-view" aria-selected="false">3D View</button>
                            </li>
                            <li class="nav-item" role="presentation">
                                <button class="nav-link" id="tools-tab" data-bs-toggle="tab" data-bs-target="#tools-view" type="button" role="tab" aria-controls="tools-view" aria-selected="false">Tools</button>
                            </li>
                        </ul>

                        <!-- Tab Content -->
                        <div class="tab-content flex-grow-1" id="canvasTabContent" style="min-height: 0;">
                            <!-- 2D View Tab -->
                            <div class="tab-pane fade show active h-100 position-relative" id="2d-view" role="tabpanel" aria-labelledby="2d-tab">
                                <canvas id="canvas" width="2000" height="2000" style="width: 100%; height: 100%; display: block;"></canvas>
                                <!-- 2D Simulation Controls Overlay -->
                                <div id="simulation-overlay-2d" class="simulation-overlay d-none">
                                    <div id="2d-simulation-controls"></div>
                                </div>
                            </div>

                            <!-- 3D View Tab -->
                            <div class="tab-pane fade h-100 position-relative" id="3d-view" role="tabpanel" aria-labelledby="3d-tab">
                                <div id="3d-canvas-container" style="width: 100%; height: 100%;"></div>
                                <!-- 3D Simulation Controls Overlay -->
                                <div id="simulation-overlay-3d" class="simulation-overlay d-none">
                                    <div id="3d-simulation-controls"></div>
                                </div>
                            </div>

                            <!-- Tools Tab -->
                            <div class="tab-pane fade h-100 d-flex flex-column overflow-auto" id="tools-view" role="tabpanel" aria-labelledby="tools-tab">
                                <div id="tool-panel" class="p-3">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Status Bar -->
                    <div class="status-container">
                        <div id="status"
                            class="bg-light border-top p-2 text-muted d-flex align-items-center justify-content-between">
                            <span>Tool: Select</span>
                            <span class="small">Ver 2025-12-05</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <canvas id="paper-canvas" style="display: none;" width="1000" height="1000"></canvas>


</body>


<!-- Bootstrap JS -->

<script src="js/jquery-2.1.1.min.js"></script>

<script type="text/javascript" src="js/paper-full.js"></script>
<script type="text/javascript" src="js/lucide.js"></script>
<script type="text/javascript" src="js/bootstrap-min.js"></script>
<script type="text/javascript" src="js/gcodeView.js"></script>
<script type="text/javascript" src="js/bootstrap-layout.js"></script>
<script type="text/javascript" src="js/simplify.js"></script>
<script type="text/javascript" src="js/clipperf.js"></script>
<script type="text/javascript" src="js/jspoly.js"></script>
<script type="text/javascript" src="js/bezier.js"></script>
<script type="text/javascript" src="js/maker.js"></script>
<script src="js/vcarve.js"></script>
<script src="js/operations/Operation.js"></script>
<script src="js/operations/Select.js"></script>
<script src="js/operations/Workpiece.js"></script>
<script src="js/operations/Origin.js"></script>
<script src="js/operations/Pan.js"></script>
<script src="js/operations/Transform.js"></script>
<script src="js/operations/PathEdit.js"></script>
<script src="js/operations/Boolean.js"></script>
<script src="js/operations/Gemini.js"></script>
<script src="js/operations/Pen.js"></script>
<script src="js/operations/Shape.js"></script>
<script src="js/fontList.js"></script>
<script src="js/operations/Text.js"></script>
<script src="js/operations/Drill.js"></script>
<script src="js/operations/TabEditor.js"></script>
<script src="js/operations/OperationManager.js"></script>
<script src="js/ToolPropertiesEditor.js"></script>
<script src="js/StepWiseHelpSystem.js"></script>
<script src="js/ToolpathPropertiesManager.js"></script>

<!-- Core modules (in dependency order) -->
<script type="text/javascript" src="js/util.js"></script>
<script type="text/javascript" src="js/gcodeParser.js"></script>
<script type="text/javascript" src="js/2dView.js"></script>
<script type="text/javascript" src="js/gcode.js"></script>
<script type="text/javascript" src="js/toolPath.js"></script>
<script src="js/CncController.js"></script>
<script type="text/javascript" src="js/cnc.js"></script>
<script src="js/2dSimulation.js"></script>
<script type="text/javascript" src="js/svg.js"></script>
<script src="js/opentype.js"></script>
<script type="importmap">
{
  "imports": {
    "three": "./js/three.module.js"
  }
}
</script>

<script src="js/imagetracer_v1.2.6.js"></script>
<script type="module" src="./js/3dView.js"></script>

</html>